{"version":3,"sources":["main.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"main.js","sourcesContent":["'use strict';\n\nconst palettesContainer = document.querySelector('.js-palettes-container')\nconst filterInput = document.querySelector('.js-filter');\nconst formElement = document.querySelector('.js-form');\nlet palettes = [];\n\n// api\nfunction getDataFromApi() {\n    fetch('https://beta.adalab.es/ejercicios-extra/js-ejercicio-de-paletas/data/palettes.json')\n        .then(response => response.json())\n        .then(data => {\n            palettes = data.palettes;\n            paintPalettes();\n            setInLocalStorage();\n        });\n}\n\nfunction setInLocalStorage() {\n    const stringPalettes = JSON.stringify(palettes);\n    localStorage.setItem('palettes', stringPalettes);\n}\n\nfunction getFromLocalStorage() {\n    const localStoragePalettes = localStorage.getItem('palettes');\n    if (localStoragePalettes === null) {\n        getDataFromApi();\n    } else {\n        palettes = JSON.parse(localStoragePalettes);\n        paintPalettes();\n    }\n}\n\n// filter\nfunction handleFilter(ev) {\n    paintPalettes();\n}\n\n\nfunction handleForm(ev) {\n    ev.preventDefault();\n}\n\n\nfilterInput.addEventListener('keyup', handleFilter);\nformElement.addEventListener('submit', handleForm);\n//render function\n\nfunction paintPalettes() {\n    let htmlCode = '';\n    for (const palette of palettes) {\n        if (palette.name.includes(filterInput.value)) {\n            htmlCode += '<li class=\"palette\">';\n        } else { htmlCode += '<li class=\"palette palette-hidden\">'; }\n\n        htmlCode += `<h2 class=\"palette__title\">${palette.name}</h2>`;\n        htmlCode += `<div class=\"palette__colors\">`;\n        for (const paletteColor of palette.colors) {\n            htmlCode += `<div class=\"palette__color\" style=\"background-color: #${paletteColor}\"></div>`;\n        }\n        htmlCode += '</div>';\n        htmlCode += '</li>';\n    }\n    palettesContainer.innerHTML = htmlCode;\n}\n\n// start app\ngetFromLocalStorage();\n\n"]}